<templateSet group="ZSGG MIRI">
  <template name="z i designer" value="INSERT INTO DESIGNER (REF_USER_ID, ROLE, NICK_NAME, ACTIVE) VALUES ('dykang@miridih.com', 'MIRI_DESIGNER', '동윤님', 'Y');&#10;&#10;" description="" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="SQL" value="true" />
    </context>
  </template>
  <template name="z 정상 뉴" value="-- ======================================&#10;-- ========           =======&#10;-- ======================================&#10;SELECT o.idx          order_idx,&#10;       c.commodity_idx,&#10;       od.NAME        receiver,&#10;       order_date,&#10;       o.status       order_status,&#10;       c.code1,&#10;       c.code2,&#10;       c.code3,&#10;       c.memo3        commodity_name,&#10;       c.quantity,&#10;       c.dprice,&#10;       c.make_site,&#10;       c.make_step    commodity_status,&#10;       co.co_seq      commodity_option_idx,&#10;       co.co_poi_name poi_name,&#10;       co.co_pov_name pov_name,&#10;       co.co_value1   pov_value1,&#10;       co.co_value2   pov_value2,&#10;       P.packing_date&#10;FROM (SELECT C.ORDER_IDX, C.IDX AS COMM_IDX&#10;      FROM ORDER_STEP_TIME T,&#10;           COMMODITY C&#10;      WHERE T.ORDER_IDX = C.ORDER_IDX&#10;        AND ORDER_STEP_ID IN (3, 95)&#10;        AND TO_CHAR(STEP_DATE, 'YYYY/MM/DD') BETWEEN '2019/07/01' and '2019/07/31'&#10;        AND 0 = (SELECT COUNT(*) FROM COMMODITY CMDT WHERE CMDT.ORDER_IDX = T.ORDER_IDX AND CMDT.MAKE_SITE NOT IN ('JMM.PRINT'))&#10;      UNION&#10;      SELECT ORDER_IDX, COMM_IDX&#10;      FROM COMMODITY_MAKE_STEP_HISTORY&#10;      WHERE TO_CHAR(MAKE_STEP_DATE, 'YYYY/MM/DD') BETWEEN '2019/07/01' and '2019/07/31'&#10;        AND MAKE_STEP_CODE IN (20300, 90100)&#10;        AND 0 &lt; (SELECT COUNT(*)&#10;                 FROM COMMODITY CMDT&#10;                 WHERE CMDT.ORDER_IDX = COMMODITY_MAKE_STEP_HISTORY.ORDER_IDX&#10;                   AND CMDT.MAKE_SITE NOT IN ('JMM.PRINT'))) STEP&#10;         JOIN (SELECT IDX, STATUS, TO_CHAR(oder_date, 'YYYY-MM-DD') order_date FROM TBLORDER WHERE INSITE IN ('BIZHOWS', 'BIZHOWS.M')) o&#10;              ON STEP.order_idx = O.idx&#10;         JOIN (SELECT IDX AS COMMODITY_IDX,&#10;                      CODE1,&#10;                      CODE2,&#10;                      CODE3,&#10;                      MEMO3,&#10;                      QUANTITY,&#10;                      DPRICE,&#10;                      MAKE_SITE,&#10;                      MAKE_STEP,&#10;                      STATUS&#10;               FROM COMMODITY&#10;               WHERE make_site = 'JMM.PRINT') C ON C.COMMODITY_IDX = STEP.COMM_IDX&#10;         JOIN (SELECT ORDER_IDX, NAME FROM order_delivery) od ON od.order_idx = o.idx&#10;         JOIN commodity_option co ON co.co_cmdt_idx = c.COMMODITY_IDX&#10;         JOIN (SELECT COMM_IDX, TO_CHAR(MAX(MAKE_STEP_DATE), 'YYYY-MM-DD') packing_date&#10;               FROM COMMODITY_MAKE_STEP_HISTORY&#10;               WHERE MAKE_STEP_CODE IN (20300, 90100)&#10;               group by COMM_IDX) P ON P.COMM_IDX = STEP.COMM_IDX&#10;-- [3, 95, 2019/07/01, 2019/08/31, JMM.PRINT, 2019/07/01, 2019/08/31, 20300, 90100, JMM.PRINT, BIZHOWS, BIZHOWS.M, JMM.PRINT, 20300, 90100]&#10;-- ======================================&#10;-- ======================================&#10;-- ======================================&#10;&#10;&#10;&#10;&#10;&#10;&#10;&#10;&#10;&#10;&#10;&#10;&#10;&#10;&#10;&#10;&#10;&#10;&#10;&#10;&#10;" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="SQL" value="true" />
    </context>
  </template>
</templateSet>